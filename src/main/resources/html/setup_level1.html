<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<meta charset="utf-8"/>

		<title>Server setup</title>

		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" ></script>

		<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

		<script type="text/javascript">

			function validateForm() {

				var error = '';

				$.each($(':input').serializeArray(), function(index, param) {

					if(param.name !== 'admin_pass' && param.name !== 'guest_pass' && param.value === '') {
						error += ' Field `' + param.name + '` empty.';
					}
				});

				if(error !== '') {

					error = '<div class="alert alert-danger alert-dismissible">\n'
						+
					        '  <button class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n'
						+
					        '  <strong>Error!</strong>' + error + '\n'
						+
					        '</div>'
					;

					$('#message').html(error);

					$(document).scrollTop(0);

					return false;
				}

				return true;
			}

		</script>

		<!--[if lt IE 9]>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
		<![endif]-->
	</head>
	<body style="background: white url('images/background.jpg') fixed;">

		<nav class="navbar navbar-default navbar-static-top" role="navigation">
			<div class="container">
				<div class="navbar-header" style="line-height: 45px;">
					<button class="navbar-toggle" data-toggle="collapse" data-target="#ami_navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<img src="images/logo.png" alt="Logo" />
				</div>
				<div class="collapse navbar-collapse" id="ami_navbar">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="mailto:ami@lpsc.in2p3.fr"><i class="fa fa-envelope-o"></i> Contact</a></li>
						<li><a href="http://www.cern.ch/ami/" target="_blank">About</a></li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="modal-dialog">
			<form method="post" action="" class="modal-content" onsubmit="return validateForm();">

				<div class="modal-header">
					<h3 class="modal-title"><i class="fa fa-magic"></i> Server setup</h3>
				</div>

				<div class="modal-body">

					<div id="message"></div>

					<div class="row">

						<div class="col-md-2">
							<img src="images/config.png" alt="" height="90" wigth="90" />
						</div>

						<div class="col-md-10">

							<div class="text-right"><kbd>Server</kbd></div>

							<div class="form-group">
								<label for="host" class="control-label">host<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
								<input type="text" name="host" value="%%HOST%%" class="form-control" id="host" />
							</div>

							<div class="form-group">
								<label for="agent" class="control-label">agent<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
								<input type="text" name="agent" value="%%AGENT%%" class="form-control" id="agent" />
							</div>

							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="admin_user" class="control-label">admin_user<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="text" name="admin_user" value="%%ADMIN_USER%%" class="form-control" id="admin_user" />
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="admin_pass" class="control-label">admin_pass <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="password" name="admin_pass" value="%%ADMIN_PASS%%" autocomplete="off" class="form-control" id="admin_pass" />
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="guest_user" class="control-label">guest_user<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="text" name="guest_user" value="%%GUEST_USER%%" class="form-control" id="guest_user" />
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="guest_pass" class="control-label">guest_pass <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="password" name="guest_pass" value="%%GUEST_PASS%%" autocomplete="off" class="form-control" id="guest_pass" />
									</div>
								</div>
							</div>

							<div class="form-group">
								<label for="encryption_key" class="control-label">encryption_key<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
								<input type="password" name="encryption_key" value="%%ENCRYPTION_KEY%%" autocomplete="off" class="form-control" id="encryption_key" />
							</div>

						</div>

					</div>

					<div class="row">

						<div class="col-md-2">
							<img src="images/database.png" alt="" height="90" wigth="90" />
						</div>

						<div class="col-md-10">

							<div class="text-right"><kbd>Router database</kbd></div>

							<div class="form-group">
								<label for="jdbc_url" class="control-label">jdbc_url<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
								<input type="text" name="jdbc_url" value="%%JDBC_URL%%" class="form-control" id="jdbc_url" />
							</div>

							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="router_user" class="control-label">router_user<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="text" name="router_user" value="%%ROUTER_USER%%" class="form-control" id="router_user" />
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="router_pass" class="control-label">router_pass <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
										<input type="password" name="router_pass" value="%%ROUTER_PASS%%" autocomplete="off" class="form-control" id="router_pass" />
									</div>
								</div>
							</div>

							<div class="form-group">
								<label for="router_name" class="control-label">router_name<span class="text-danger">*</span> <span class="amitt" data-toggle="tooltip" data-title="?"><i class="fa fa-question-circle"></i></span></label>
								<input type="text" name="router_name" value="%%ROUTER_NAME%%" class="form-control" id="router_name" />
							</div>

							<input type="hidden" name="Level" value="2" />

						</div>

					</div>

				</div>

				<div class="modal-footer">
					<button type="submit" class="btn btn-primary">&gt;&gt;</button>
				</div>

			</form>
		</div>

		<script type="text/javascript">

			$('.amitt').tooltip({delay: {show: 500, hide: 100}});

		</script>

	</body>
</html>
