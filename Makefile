#############################################################################

all: stop install deploy start
	echo "done"

#############################################################################

compile:
	mvn compile

#############################################################################

install:
	mvn install -U

#############################################################################

update-versions:
	mvn release:update-versions

#############################################################################

deploy:
	rm -fr tomcat/webapps/*

	unzip AMICoreWeb/target/AMICoreWeb-*.war -d tomcat/webapps/AMI/

#############################################################################

stop:
	./tomcat/bin/shutdown.sh &> /dev/null

	rm -fr tomcat/logs/*

#############################################################################

start:
	rm -fr tomcat/logs/*

	./tomcat/bin/startup.sh

#############################################################################

restart:
	./tomcat/bin/shutdown.sh &> /dev/null

	rm -fr tomcat/logs/* ; sleep 2

	./tomcat/bin/startup.sh

#############################################################################

clean:
	mvn clean

#############################################################################
